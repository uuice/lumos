---
id: ae642236-22f8-5905-94c8-27b338c18dd0
title: Lumos - åŸºäº Bun çš„é«˜æ€§èƒ½é™æ€åšå®¢ç”Ÿæˆå™¨
cover:
created_time: 2025-09-03 09:56:09
updated_time: 2025-09-03 09:56:09
categories: ['æŠ€æœ¯', 'å¼€æºé¡¹ç›®']
tags: ['Bun', 'TypeScript', 'Jsx', 'é™æ€åšå®¢', 'SSR']
excerpt: Lumos æ˜¯ä¸€ä¸ªåŸºäº Bun è¿è¡Œæ—¶çš„é«˜æ€§èƒ½é™æ€åšå®¢ç”Ÿæˆå™¨ï¼Œä½¿ç”¨ç°ä»£åŒ–çš„æŠ€æœ¯æ ˆï¼Œä¸“ä¸ºä½é…ç½®æœåŠ¡å™¨ä¼˜åŒ–ï¼Œæä¾›è½»é‡çº§åšå®¢è§£å†³æ–¹æ¡ˆã€‚
published: true
---

# Lumos - åŸºäº Bun çš„é«˜æ€§èƒ½é™æ€åšå®¢ç”Ÿæˆå™¨

Lumos æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„é™æ€åšå®¢ç”Ÿæˆå™¨ï¼ŒåŸºäº Bun è¿è¡Œæ—¶æ„å»ºï¼Œé‡‡ç”¨ TypeScript + React + JSX çš„æŠ€æœ¯æ ˆï¼Œä¸ºå¼€å‘è€…æä¾›é«˜æ€§èƒ½ã€æ˜“æ‰©å±•çš„åšå®¢è§£å†³æ–¹æ¡ˆã€‚

## ğŸ“š ç›¸å…³æ–‡æ¡£

æƒ³è¦æ·±å…¥äº†è§£ Lumos çš„æ›´å¤šåŠŸèƒ½å’Œä½¿ç”¨æ–¹æ³•ï¼Ÿè¯·æŸ¥çœ‹ä»¥ä¸‹æ–‡æ¡£ï¼š

- [README æ–‡æ¡£](../README.md) - é¡¹ç›®å®Œæ•´æ–‡æ¡£
- [Lumos CLI ä½¿ç”¨æŒ‡å—](./lumos-cli-usage.md) - CLI å‘½ä»¤çš„è¯¦ç»†ä½¿ç”¨æ–¹æ³•
- [Lumos äºŒæ¬¡å¼€å‘æ•™ç¨‹](./lumos-development.md) - æ’ä»¶å’Œä¸»é¢˜å¼€å‘çš„è¯¦ç»†æ•™ç¨‹

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

### æ ¸å¿ƒä»·å€¼

Lumos æ—¨åœ¨ä¸ºå¼€å‘è€…æä¾›ä¸€ä¸ªé«˜æ€§èƒ½ã€æ˜“ç”¨ä¸”å¯æ‰©å±•çš„é™æ€åšå®¢è§£å†³æ–¹æ¡ˆï¼š

- ğŸš€ **æè‡´æ€§èƒ½**: åŸºäº Bun è¿è¡Œæ—¶ï¼Œå†·å¯åŠ¨æ—¶é—´ < 100ms
- âš›ï¸ **ç°ä»£åŒ–æŠ€æœ¯æ ˆ**: TypeScript + React + JSXï¼Œæä¾›ä¼˜ç§€çš„å¼€å‘ä½“éªŒ
- ğŸ”§ **æ˜“æ‰©å±•æ€§**: æ’ä»¶ç³»ç»Ÿå’Œä¸»é¢˜ç³»ç»Ÿï¼Œè½»æ¾å®šåˆ¶åŠŸèƒ½å’Œå¤–è§‚
- ğŸ“± **å“åº”å¼è®¾è®¡**: ç§»åŠ¨ç«¯å‹å¥½çš„ç•Œé¢è®¾è®¡

### é€‚ç”¨åœºæ™¯

- ğŸ‘¨â€ğŸ’» **ä¸ªäººæŠ€æœ¯åšå®¢**: é€‚åˆéœ€è¦é«˜æ€§èƒ½åšå®¢ç³»ç»Ÿçš„å†…å®¹åˆ›ä½œè€…
- ğŸ“š **æŠ€æœ¯æ–‡æ¡£**: é¡¹ç›®æ–‡æ¡£ã€API æ–‡æ¡£çš„ç†æƒ³é€‰æ‹©
- ğŸ¢ **ä¼ä¸šç½‘ç«™**: å…¬å¸å®˜ç½‘ã€äº§å“ä»‹ç»ç­‰é™æ€ç½‘ç«™
- ğŸŒŸ **å¼€æºé¡¹ç›®**: éœ€è¦é¡¹ç›®æ–‡æ¡£å’Œå±•ç¤ºçš„å¼€æºé¡¹ç›®

## ğŸš€ æ ¸å¿ƒç‰¹æ€§

### æé€Ÿæ€§èƒ½

- **Bun è¿è¡Œæ—¶**: åŸºäº Bun çš„æé€Ÿå¯åŠ¨ï¼Œå†·å¯åŠ¨æ—¶é—´ < 100ms
- **æ™ºèƒ½ç¼“å­˜**: åŸºäº MD5 çš„æ–‡ä»¶ç¼“å­˜æœºåˆ¶ï¼Œåªå¯¹å˜æ›´æ–‡ä»¶é‡æ–°è§£æ
- **SSR æ¸²æŸ“**: æœåŠ¡ç«¯æ¸²æŸ“ï¼ŒSEO å‹å¥½ï¼Œé¦–å±åŠ è½½é€Ÿåº¦å¿«

### ç°ä»£åŒ–æŠ€æœ¯æ ˆ

- **TypeScript**: å®Œæ•´çš„ç±»å‹å®‰å…¨ï¼Œæä¾›ä¼˜ç§€çš„å¼€å‘ä½“éªŒ
- **React + JSX**: ä½¿ç”¨ React ç»„ä»¶æ›¿ä»£ä¼ ç»Ÿæ¨¡æ¿å¼•æ“ï¼Œæ›´çµæ´»æ˜“ç»´æŠ¤
- **Tailwind CSS**: å†…ç½®ç°ä»£åŒ– CSS æ¡†æ¶ï¼Œå“åº”å¼è®¾è®¡
- **FileSystemRouter**: åŸºäº Bun çš„è‡ªåŠ¨è·¯ç”±ç³»ç»Ÿ

### å¼€å‘ä½“éªŒ

- **çƒ­æ›´æ–°**: æ–‡ä»¶å˜åŒ–è‡ªåŠ¨é‡æ–°ç”Ÿæˆï¼Œæ”¯æŒç›‘å¬æ¨¡å¼
- **CLI å·¥å…·**: å®Œæ•´çš„å‘½ä»¤è¡Œå·¥å…·é“¾ï¼Œæ”¯æŒåˆ›å»ºã€æ„å»ºã€æœåŠ¡ç­‰åŠŸèƒ½
- **é›¶é…ç½®**: å¼€ç®±å³ç”¨ï¼Œä¸€é”®å¯åŠ¨å¼€å‘ç¯å¢ƒ

### æ‰©å±•èƒ½åŠ›

- **ğŸ”Œ æ’ä»¶ç³»ç»Ÿ**: åŸºäºç”Ÿå‘½å‘¨æœŸé’©å­çš„å¯æ‰©å±•æ’ä»¶æ¶æ„
- **ğŸ¨ ä¸»é¢˜ç³»ç»Ÿ**: æ”¯æŒè‡ªå®šä¹‰ä¸»é¢˜å’Œç»„ä»¶çš„çµæ´»ä¸»é¢˜æœºåˆ¶

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

### æ ¸å¿ƒç»„ä»¶

#### 1. æ•°æ®ç”Ÿæˆå™¨ (DataGenerator)

```typescript
// src/generator.ts
export class DataGenerator {
  // è§£æ Markdown æ–‡ä»¶
  // æå–åˆ†ç±»å’Œæ ‡ç­¾
  // ç”Ÿæˆå…³è”å…³ç³»
  // æ„å»ºå®Œæ•´çš„æ•°æ®ç»“æ„
}
```

**åŠŸèƒ½ç‰¹æ€§:**

- ğŸ“„ è§£æ Markdownã€JSONã€YAML æ–‡ä»¶
- ğŸ·ï¸ è‡ªåŠ¨æå–æ–‡ç« åˆ†ç±»å’Œæ ‡ç­¾
- ğŸ”— ç”Ÿæˆæ–‡ç« -åˆ†ç±»ã€æ–‡ç« -æ ‡ç­¾å…³è”å…³ç³»
- ğŸ‘¥ æ”¯æŒå¤šä½œè€…ç³»ç»Ÿ
- âš¡ æ™ºèƒ½ç¼“å­˜æœºåˆ¶

#### 2. æ–‡ä»¶è§£æå™¨ (Parser)

```typescript
// src/parser.ts
export class Parser {
  // è§£æ Markdown æ–‡ä»¶
  // æ”¯æŒ Front Matter
  // ä»£ç é«˜äº®å’Œ TOC ç”Ÿæˆ
  // ç¼“å­˜æœºåˆ¶
}
```

**è§£æèƒ½åŠ›:**

- ğŸ“ Markdown æ–‡ä»¶è§£æï¼ˆæ”¯æŒ Front Matterï¼‰
- ğŸ¨ ä»£ç é«˜äº®ï¼ˆHighlight.jsï¼‰
- ğŸ“‹ è‡ªåŠ¨ç”Ÿæˆ TOC ç›®å½•
- ğŸ“„ æ‘˜è¦è‡ªåŠ¨æå–
- ğŸ“Š å­—æ•°ç»Ÿè®¡å’Œé˜…è¯»æ—¶é—´è®¡ç®—
- ğŸ”¤ ä¸­æ–‡ URL è½¬æ‹¼éŸ³

#### 3. HTTP æœåŠ¡å™¨ (LumosServer)

```typescript
// src/server.ts
export class LumosServer {
  // åŸºäº Bun FileSystemRouter
  // SSR æœåŠ¡ç«¯æ¸²æŸ“
  // é™æ€èµ„æºæœåŠ¡
  // API æ¥å£
}
```

**æœåŠ¡ç‰¹æ€§:**

- ğŸ›£ï¸ åŸºäº Bun FileSystemRouter çš„è‡ªåŠ¨è·¯ç”±
- âš¡ SSR æœåŠ¡ç«¯æ¸²æŸ“
- ğŸ“ é™æ€èµ„æºç®¡ç†å’ŒæœåŠ¡
- ğŸ”Œ RESTful API æ¥å£
- ğŸ”¥ çƒ­æ›´æ–°æ”¯æŒ

#### 4. å¸ƒå±€ç»„ä»¶ (Layout)

```typescript
// src/components/Layout.tsx
export const Layout: React.FC<{
  title: string
  children: React.ReactNode
  data: DatabaseSchema
}> = ({ title, children, data }) => {
  // å“åº”å¼å¸ƒå±€
  // ä¸»é¢˜åˆ‡æ¢
  // SEO ä¼˜åŒ–
}
```

**UI ç‰¹æ€§:**

- ğŸ“± å“åº”å¼è®¾è®¡ï¼Œç§»åŠ¨ç«¯å‹å¥½
- ğŸŒ“ æ·±è‰²/æµ…è‰²ä¸»é¢˜åˆ‡æ¢
- ğŸ” SEO ä¼˜åŒ–ï¼ˆmeta æ ‡ç­¾ã€ç»“æ„åŒ–æ•°æ®ï¼‰
- ğŸ” æœç´¢åŠŸèƒ½
- âœ¨ ç°ä»£åŒ– UI è®¾è®¡

#### 5. Bundler HTML ç³»ç»Ÿ

Bundler HTML ç³»ç»Ÿä½¿ç”¨ Bun çš„ HTML bundling åŠŸèƒ½åˆ›å»ºé«˜æ€§èƒ½é¡µé¢ï¼Œä¼˜å…ˆçº§é«˜äºä¸»é¢˜è·¯ç”±ã€‚

```typescript
// bundler/html/app.tsx
export default function App() {
  // React ç»„ä»¶
  // é«˜æ€§èƒ½é¡µé¢
  // ç‹¬ç«‹äºä¸»é¢˜ç³»ç»Ÿ
}
```

**ç³»ç»Ÿç‰¹æ€§:**

- âš¡ é«˜ä¼˜å…ˆçº§é¡µé¢å¤„ç†
- ğŸ“¦ ç‹¬ç«‹çš„æ„å»ºç³»ç»Ÿ
- ğŸš€ æ›´å¿«çš„é¡µé¢åŠ è½½é€Ÿåº¦
- ğŸ”§ çµæ´»çš„é¡µé¢åˆ›å»ºæ–¹å¼

### æ’ä»¶ç³»ç»Ÿæ¶æ„

Lumos æä¾›äº†å¼ºå¤§çš„æ’ä»¶ç³»ç»Ÿï¼Œå…è®¸å¼€å‘è€…é€šè¿‡æ’ä»¶æ‰©å±•åšå®¢çš„åŠŸèƒ½ã€‚æ’ä»¶ç³»ç»ŸåŸºäºç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œå¯ä»¥åœ¨åšå®¢ç”Ÿæˆå’Œè¿è¡Œçš„ä¸åŒé˜¶æ®µæ‰§è¡Œè‡ªå®šä¹‰é€»è¾‘ã€‚

#### æ ¸å¿ƒæ¦‚å¿µ

- **ç”Ÿå‘½å‘¨æœŸé’©å­**: æ’ä»¶å¯ä»¥åœ¨ç‰¹å®šçš„ç”Ÿå‘½å‘¨æœŸé˜¶æ®µæ‰§è¡Œä»£ç 
- **é…ç½®ç®¡ç†**: æ’ä»¶å¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶è¿›è¡Œé…ç½®
- **æ˜“äºæ‰©å±•**: æ’ä»¶å¯ä»¥è½»æ¾åœ°æ·»åŠ æ–°åŠŸèƒ½

#### ç”Ÿå‘½å‘¨æœŸé’©å­

æ’ä»¶æ”¯æŒä»¥ä¸‹ç”Ÿå‘½å‘¨æœŸé’©å­ï¼š

- `onGenerateStart(generator)`: æ•°æ®ç”Ÿæˆå¼€å§‹å‰è°ƒç”¨
- `onGenerateEnd(data)`: æ•°æ®ç”Ÿæˆç»“æŸåè°ƒç”¨
- `onParseFile(filePath, content, type)`: è§£ææ–‡ä»¶æ—¶è°ƒç”¨
- `onRender(html, data)`: æ¸²æŸ“é¡µé¢æ—¶è°ƒç”¨
- `onServerStart(server)`: æœåŠ¡å™¨å¯åŠ¨æ—¶è°ƒç”¨

#### æ’ä»¶é…ç½®

æ’ä»¶é…ç½®åœ¨é¡¹ç›®æ ¹ç›®å½•çš„ `lumos.config.json` æ–‡ä»¶ä¸­ï¼š

```json
{
  "plugins": {
    "example-plugin": {
      "enabled": true,
      "options": {
        "customOption": "value"
      }
    }
  }
}
```

#### åˆ›å»ºæ’ä»¶

æ’ä»¶æ˜¯ä¸€ä¸ªå¯¼å‡ºé»˜è®¤å¯¹è±¡çš„ TypeScript æ–‡ä»¶ï¼Œæ”¾ç½®åœ¨ `plugins/` ç›®å½•ä¸­ï¼š

```typescript
// plugins/example-plugin.ts
import { Plugin } from '../src/types.ts'

const examplePlugin: Plugin = {
  name: 'example-plugin',
  version: '1.0.0',
  description: 'ç¤ºä¾‹æ’ä»¶',

  async onGenerateStart(generator: any) {
    console.log('ç”Ÿæˆå¼€å§‹')
  },

  async onGenerateEnd(data: any) {
    console.log('ç”Ÿæˆç»“æŸ')
    return data
  },

  async onParseFile(filePath: string, content: string, type: 'post' | 'page' | 'author') {
    console.log(`è§£ææ–‡ä»¶: ${filePath}`)
    return content
  },

  async onRender(html: string, data: any) {
    console.log('æ¸²æŸ“é¡µé¢')
    return html
  },

  async onServerStart(server: any) {
    console.log('æœåŠ¡å™¨å¯åŠ¨')
  }
}

export default examplePlugin
```

å¦‚éœ€äº†è§£æ›´å¤šæ’ä»¶å¼€å‘çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… [Lumos äºŒæ¬¡å¼€å‘æ•™ç¨‹](./lumos-development.md)ã€‚

### ä¸»é¢˜ç³»ç»Ÿæ¶æ„

Lumos æ”¯æŒçµæ´»çš„ä¸»é¢˜ç³»ç»Ÿï¼Œå…è®¸å¼€å‘è€…åˆ›å»ºå’Œä½¿ç”¨è‡ªå®šä¹‰ä¸»é¢˜æ¥æ”¹å˜åšå®¢çš„å¤–è§‚å’ŒåŠŸèƒ½ã€‚

#### ä¸»é¢˜ç»“æ„

ä¸»é¢˜æ–‡ä»¶ä½äº `themes/` ç›®å½•ä¸­ï¼Œæ¯ä¸ªä¸»é¢˜éƒ½æœ‰è‡ªå·±çš„ç›®å½•ï¼š

```
themes/
â””â”€â”€ default/              # ä¸»é¢˜ç›®å½•
    â”œâ”€â”€ assets/           # ä¸»é¢˜é™æ€èµ„æº
    â”‚   â”œâ”€â”€ styles/       # æ ·å¼æ–‡ä»¶
    â”‚   â””â”€â”€ images/       # å›¾ç‰‡èµ„æº
    â”œâ”€â”€ components/       # ä¸»é¢˜ç»„ä»¶
    â”‚   â””â”€â”€ Layout.tsx    # å¸ƒå±€ç»„ä»¶
    â””â”€â”€ routes/           # ä¸»é¢˜è·¯ç”±
        â”œâ”€â”€ index.tsx     # é¦–é¡µ
        â”œâ”€â”€ posts.tsx     # æ–‡ç« åˆ—è¡¨é¡µ
        â””â”€â”€ post/[url].tsx # æ–‡ç« è¯¦æƒ…é¡µ
```

#### ä¸»é¢˜é…ç½®

ä¸»é¢˜é…ç½®åœ¨ `lumos.config.json` æ–‡ä»¶ä¸­ï¼š

```json
{
  "theme": "default"
}
```

#### åˆ›å»ºä¸»é¢˜

åˆ›å»ºæ–°ä¸»é¢˜åªéœ€åœ¨ `themes/` ç›®å½•ä¸­åˆ›å»ºæ–°æ–‡ä»¶å¤¹ï¼Œå¹¶æŒ‰ç…§ä¸»é¢˜ç»“æ„æ·»åŠ æ–‡ä»¶ã€‚

##### 1. åˆ›å»ºä¸»é¢˜ç›®å½•ç»“æ„

```bash
mkdir -p themes/my-theme/{assets,components,routes}
```

##### 2. åˆ›å»ºå¸ƒå±€ç»„ä»¶

```tsx
// themes/my-theme/components/Layout.tsx
import * as React from 'react'

interface LayoutProps {
  title: string
  children: React.ReactNode
}

export const Layout: React.FC<LayoutProps> = ({ title, children }) => {
  return (
    <html>
      <head>
        <title>{title}</title>
        <link rel="stylesheet" href="/assets/styles/theme.css" />
      </head>
      <body>
        <header>
          <h1>æˆ‘çš„è‡ªå®šä¹‰ä¸»é¢˜</h1>
        </header>
        <main>{children}</main>
        <footer>
          <p>&copy; 2024 æˆ‘çš„åšå®¢</p>
        </footer>
      </body>
    </html>
  )
}
```

##### 3. åˆ›å»ºè·¯ç”±é¡µé¢

```tsx
// themes/my-theme/routes/index.tsx
import * as React from 'react'
import { renderToString } from 'react-dom/server'
import { Layout } from '../components/Layout.tsx'

const HomePage: React.FC = () => (
  <div>
    <h2>æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢</h2>
    <p>è¿™æ˜¯ä½¿ç”¨è‡ªå®šä¹‰ä¸»é¢˜çš„é¦–é¡µ</p>
  </div>
)

export default async function handler(_request: Request): Promise<Response> {
  const html = '<!DOCTYPE html>' + renderToString(React.createElement(HomePage))
  return new Response(html, {
    headers: { 'Content-Type': 'text/html; charset=utf-8' }
  })
}
```

##### 4. é…ç½®ä¸»é¢˜

åœ¨ `lumos.config.json` ä¸­åˆ‡æ¢åˆ°æ–°ä¸»é¢˜ï¼š

```json
{
  "theme": "my-theme"
}
```

#### ä¸»é¢˜ç»§æ‰¿

ä¸»é¢˜æ”¯æŒç»§æ‰¿æœºåˆ¶ï¼Œå¯ä»¥é€šè¿‡æ‰©å±•é»˜è®¤ä¸»é¢˜æ¥åˆ›å»ºè‡ªå®šä¹‰ä¸»é¢˜ï¼Œåªéœ€è¦†ç›–éœ€è¦ä¿®æ”¹çš„éƒ¨åˆ†ã€‚

å¦‚éœ€äº†è§£æ›´å¤šä¸»é¢˜å¼€å‘çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… [Lumos äºŒæ¬¡å¼€å‘æ•™ç¨‹](./lumos-development.md)ã€‚

### è·¯ç”±ç³»ç»Ÿ

#### å‰å°é¡µé¢è·¯ç”±

- **æ ¸å¿ƒé¡µé¢**: `/` (é¦–é¡µ), `/posts` (æ–‡ç« åˆ—è¡¨), `/archives` (å½’æ¡£), `/about` (å…³äº), `/links` (å‹é“¾)
- **å†…å®¹é¡µé¢**: `/post/:alias` (æ–‡ç« è¯¦æƒ…), `/page/:alias` (é¡µé¢è¯¦æƒ…)
- **åˆ†ç±»æ ‡ç­¾**: `/category/:name`, `/tag/:name` (åˆ†ç±»/æ ‡ç­¾é¡µé¢)
- **ç‰¹æ®Šé¡µé¢**: `/404`, `/error` (é”™è¯¯é¡µé¢)
- **æ•°æ®æ¥å£**: `/rss.xml`, `/sitemap.xml`, `/api/*` (API æ¥å£)

#### åŠ¨æ€è·¯ç”±ç‰¹æ€§

- ğŸ·ï¸ æ”¯æŒåˆ«åç³»ç»Ÿ (`alias`)
- ğŸ”¤ ä¸­æ–‡ URL è‡ªåŠ¨è½¬æ‹¼éŸ³
- ğŸ” SEO å‹å¥½çš„ URL ç»“æ„
- ğŸš« æ™ºèƒ½ 404 å¤„ç†

### æ•°æ®ç»“æ„

#### æ ¸å¿ƒå®ä½“

```typescript
interface DatabaseSchema {
  posts: POST[] // æ–‡ç« åˆ—è¡¨
  pages: PAGE[] // é¡µé¢åˆ—è¡¨
  authors: AUTHOR[] // ä½œè€…åˆ—è¡¨
  categories: CATEGORY[] // åˆ†ç±»åˆ—è¡¨
  tags: TAG[] // æ ‡ç­¾åˆ—è¡¨
  postCategories: POST_CATEGORY[] // æ–‡ç« -åˆ†ç±»å…³è”
  postTags: POST_TAG[] // æ–‡ç« -æ ‡ç­¾å…³è”
  [key: string]: unknown // å…¶ä»–é…ç½®æ•°æ®
}
```

#### æ–‡ç« ç»“æ„

```typescript
interface POST {
  id: string // å”¯ä¸€æ ‡è¯†
  title: string // æ ‡é¢˜
  alias?: string // åˆ«åï¼ˆç”¨äº URLï¼‰
  content: string // HTML å†…å®¹
  mdContent: string // åŸå§‹ Markdown
  excerpt: string // æ‘˜è¦
  date: string // å‘å¸ƒæ—¥æœŸ
  published: boolean // æ˜¯å¦å‘å¸ƒ
  featured: boolean // æ˜¯å¦ç½®é¡¶
  author?: string // ä½œè€…
  categories: string[] // åˆ†ç±»
  tags: string[] // æ ‡ç­¾
  wordCount: number // å­—æ•°ç»Ÿè®¡
  readingTime: number // é˜…è¯»æ—¶é—´
  toc?: any[] // ç›®å½•ç»“æ„
  url: string // å‹å¥½ URL
  createdAt: string // åˆ›å»ºæ—¶é—´
  updatedAt: string // æ›´æ–°æ—¶é—´
}
```

## ğŸ“¦ Bundler HTML é¡µé¢ (é«˜ä¼˜å…ˆçº§)

Lumos æ”¯æŒä½¿ç”¨ Bun çš„ HTML bundling åŠŸèƒ½åˆ›å»ºé¡µé¢ï¼Œè¿™ç§æ–¹å¼çš„ä¼˜å…ˆçº§æ¯”ä¸»é¢˜ä¸­çš„ route æ›´é«˜ã€‚è¿™å¯¹äºéœ€è¦æ›´é«˜æ€§èƒ½æˆ–ç‰¹æ®ŠåŠŸèƒ½çš„é¡µé¢éå¸¸æœ‰ç”¨ã€‚

### å·¥ä½œåŸç†

1. åœ¨ `bundler/html/` ç›®å½•ä¸­åˆ›å»º HTML æ–‡ä»¶å’Œç›¸å…³çš„ TypeScript/JSX ç»„ä»¶
2. è¿è¡Œ `bun run build:html` å‘½ä»¤æ„å»ºè¿™äº›é¡µé¢
3. æ„å»ºåçš„é¡µé¢ä¼šè¢«æ”¾ç½®åœ¨ `bundler/dist/` ç›®å½•ä¸­
4. æœåŠ¡å™¨ä¼šä¼˜å…ˆæ£€æŸ¥è¯·æ±‚çš„è·¯å¾„æ˜¯å¦åœ¨ `bundler/dist/` ç›®å½•ä¸­å­˜åœ¨å¯¹åº”æ–‡ä»¶
5. å¦‚æœå­˜åœ¨ï¼Œåˆ™ç›´æ¥è¿”å›è¯¥æ–‡ä»¶ï¼Œä¸ä¼šç»è¿‡ä¸»é¢˜è·¯ç”±å¤„ç†

### ä¼˜å…ˆçº§è¯´æ˜

Bundler HTML é¡µé¢å…·æœ‰æ¯”ä¸»é¢˜è·¯ç”±æ›´é«˜çš„ä¼˜å…ˆçº§ã€‚å½“ç”¨æˆ·è®¿é—®ä¸€ä¸ª URL æ—¶ï¼ŒæœåŠ¡å™¨ä¼šæŒ‰ç…§ä»¥ä¸‹é¡ºåºå¤„ç†ï¼š

1. é¦–å…ˆæ£€æŸ¥æ˜¯å¦æ˜¯é™æ€èµ„æºï¼ˆ/assets/\*ï¼‰
2. ç„¶åæ£€æŸ¥æ˜¯å¦åœ¨ `bundler/dist/` ç›®å½•ä¸­å­˜åœ¨å¯¹åº”çš„æ–‡ä»¶
3. æœ€åæ‰æ£€æŸ¥ä¸»é¢˜è·¯ç”±ï¼ˆthemes/\*/routes/ï¼‰

è¿™æ„å‘³ç€å¦‚æœåœ¨ `bundler/dist/` ä¸­æœ‰ä¸€ä¸ª `about.html` æ–‡ä»¶ï¼Œå®ƒä¼šä¼˜å…ˆäº `themes/default/routes/about.tsx` è¢«è®¿é—®ã€‚

### ä½¿ç”¨åœºæ™¯

- åˆ›å»ºé«˜æ€§èƒ½çš„é™æ€é¡µé¢
- æ„å»ºç‹¬ç«‹çš„ landing pages
- å®ç°ç‰¹æ®Šçš„å‰ç«¯äº¤äº’æ•ˆæœ
- åˆ›å»ºæ¼”ç¤ºé¡µé¢æˆ–æµ‹è¯•é¡µé¢
- éœ€è¦ç»•è¿‡ä¸»é¢˜ç³»ç»Ÿçš„ç‰¹æ®Šé¡µé¢

## ğŸ› ï¸ æŠ€æœ¯æ ˆè¯¦è§£

### è¿è¡Œæ—¶ç¯å¢ƒ

- ğŸš€ **Bun**: ç°ä»£åŒ–çš„ JavaScript è¿è¡Œæ—¶ï¼Œæä¾›æé€Ÿçš„å¯åŠ¨å’Œæ„å»ºæ€§èƒ½
- ğŸ”’ **TypeScript**: ç±»å‹å®‰å…¨çš„ JavaScript è¶…é›†ï¼Œæä¾›å®Œæ•´çš„ç±»å‹ç³»ç»Ÿ

### å‰ç«¯æŠ€æœ¯

- âš›ï¸ **React 18**: ç°ä»£åŒ–çš„ UI åº“ï¼Œæ”¯æŒ SSR
- ğŸ”§ **JSX**: åœ¨ TypeScript ä¸­ç›´æ¥ç¼–å†™ React ç»„ä»¶
- ğŸ¨ **Tailwind CSS**: å®ç”¨ä¼˜å…ˆçš„ CSS æ¡†æ¶
- ğŸ“± **å“åº”å¼è®¾è®¡**: ç§»åŠ¨ç«¯ä¼˜å…ˆçš„è®¾è®¡ç†å¿µ

### æ„å»ºå·¥å…·

- ğŸ› ï¸ **Bun å†…ç½®æ„å»ºå™¨**: æ— éœ€é¢å¤–é…ç½®çš„æ„å»ºç³»ç»Ÿ
- ğŸ¨ **PostCSS**: CSS åå¤„ç†å™¨ï¼Œæ”¯æŒ Tailwind CSS
- ğŸ” **ESLint + Prettier**: ä»£ç è´¨é‡å’Œæ ¼å¼åŒ–å·¥å…·

### å†…å®¹å¤„ç†

- ğŸ“ **Marked**: Markdown è§£æå™¨
- ğŸ“„ **Gray Matter**: Front Matter è§£æ
- ğŸ¨ **Highlight.js**: ä»£ç è¯­æ³•é«˜äº®
- ğŸ”¤ **Pinyin**: ä¸­æ–‡è½¬æ‹¼éŸ³å·¥å…·

### æ•°æ®å­˜å‚¨

- ğŸ“„ **JSON**: è½»é‡çº§æ•°æ®å­˜å‚¨æ ¼å¼
- ğŸ“ **æ–‡ä»¶ç³»ç»Ÿ**: åŸºäºæ–‡ä»¶çš„å†…å®¹ç®¡ç†
- âš¡ **ç¼“å­˜ç³»ç»Ÿ**: MD5 å“ˆå¸Œç¼“å­˜æœºåˆ¶

## ğŸš€ ä½¿ç”¨åœºæ™¯

### ä¸ªäººåšå®¢

- ğŸ“ æŠ€æœ¯åšå®¢ã€ç”Ÿæ´»è®°å½•
- ğŸ‘¥ æ”¯æŒå¤šä½œè€…åä½œ
- ğŸ·ï¸ å®Œæ•´çš„åˆ†ç±»æ ‡ç­¾ç³»ç»Ÿ
- ğŸ” SEO ä¼˜åŒ–ï¼Œæœç´¢å¼•æ“å‹å¥½

### æŠ€æœ¯æ–‡æ¡£

- ğŸ“š é¡¹ç›®æ–‡æ¡£ã€API æ–‡æ¡£
- ğŸ¨ æ”¯æŒä»£ç é«˜äº®å’Œç›®å½•ç”Ÿæˆ
- ğŸ“± å“åº”å¼è®¾è®¡ï¼Œç§»åŠ¨ç«¯å‹å¥½
- ğŸ“¡ æ”¯æŒ RSS è®¢é˜…

### ä¼ä¸šç½‘ç«™

- ğŸ¢ å…¬å¸å®˜ç½‘ã€äº§å“ä»‹ç»
- ğŸ“¢ æ–°é—»å‘å¸ƒã€å…¬å‘Šç³»ç»Ÿ
- ğŸ“„ å¤šé¡µé¢æ”¯æŒ
- âš¡ é«˜æ€§èƒ½ï¼Œé€‚åˆä½é…ç½®æœåŠ¡å™¨

## ğŸ”§ å¼€å‘å·¥ä½œæµ

### 1. å†…å®¹åˆ›å»º

```bash
# åˆ›å»ºæ–°æ–‡ç« 
lumos new post "æˆ‘çš„ç¬¬ä¸€ç¯‡æ–‡ç« "

# åˆ›å»ºæ–°é¡µé¢
lumos new page "å…³äºæˆ‘ä»¬"

# åˆ›å»ºæ–°ä½œè€…
lumos new author "å¼ ä¸‰"
```

å…³äº CLI å‘½ä»¤çš„è¯¦ç»†ä½¿ç”¨æ–¹æ³•ï¼Œè¯·å‚é˜… [Lumos CLI ä½¿ç”¨æŒ‡å—](./lumos-cli-usage.md)ã€‚

### 2. å¼€å‘è°ƒè¯•

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆçƒ­æ›´æ–°ï¼‰
bun run dev

# æˆ–æ‰‹åŠ¨æ­¥éª¤
lumos gen && lumos server -w
```

### 3. æ„å»ºéƒ¨ç½²

```bash
# å®Œæ•´æ„å»º
lumos build

# ç”Ÿæˆæ•°æ®æ–‡ä»¶
lumos gen
```

## ğŸ“Š æ€§èƒ½ä¼˜åŠ¿

### å¯åŠ¨æ€§èƒ½

- **å†·å¯åŠ¨**: < 100msï¼ˆç›¸æ¯” Node.js æå‡ 3-5 å€ï¼‰
- **çƒ­é‡è½½**: æ–‡ä»¶å˜åŒ–æ£€æµ‹ < 50ms
- **å†…å­˜å ç”¨**: ç›¸æ¯”ä¼ ç»Ÿæ–¹æ¡ˆå‡å°‘ 30-50%

### æ„å»ºæ€§èƒ½

- **å¢é‡æ„å»º**: åªå¤„ç†å˜æ›´æ–‡ä»¶
- **å¹¶è¡Œå¤„ç†**: å¤šæ–‡ä»¶å¹¶è¡Œè§£æ
- **æ™ºèƒ½ç¼“å­˜**: é¿å…é‡å¤è®¡ç®—

### è¿è¡Œæ—¶æ€§èƒ½

- **SSR æ¸²æŸ“**: é¦–å±åŠ è½½é€Ÿåº¦å¿«
- **é™æ€èµ„æº**: CDN å‹å¥½çš„èµ„æºç®¡ç†
- **SEO ä¼˜åŒ–**: æœç´¢å¼•æ“å‹å¥½

## ğŸŒŸ é¡¹ç›®äº®ç‚¹

### 1. ç°ä»£åŒ–æ¶æ„

- ğŸš€ åŸºäº Bun çš„ä¸‹ä¸€ä»£è¿è¡Œæ—¶
- ğŸ”’ TypeScript å…¨è¦†ç›–ï¼Œç±»å‹å®‰å…¨
- âš›ï¸ React + JSX çš„ç»„ä»¶åŒ–å¼€å‘
- ğŸ”§ å‡½æ•°å¼ç¼–ç¨‹èŒƒå¼

### 2. å¼€å‘ä½“éªŒ

- âš¡ é›¶é…ç½®å¯åŠ¨
- ğŸ”¥ çƒ­æ›´æ–°å¼€å‘
- ğŸ› ï¸ å®Œæ•´çš„ CLI å·¥å…·é“¾
- ğŸ’¡ ä¸°å¯Œçš„é”™è¯¯æç¤º

### 3. æ€§èƒ½ä¼˜åŒ–

- ğŸ§  æ™ºèƒ½ç¼“å­˜æœºåˆ¶
- âš¡ å¢é‡æ„å»º
- ğŸ“¦ èµ„æºå‹ç¼©å’Œä¼˜åŒ–
- ğŸ“± å“åº”å¼è®¾è®¡

### 4. æ‰©å±•æ€§

- ğŸ”Œ æ’ä»¶åŒ–æ¶æ„
- ğŸ¨ ä¸»é¢˜ç³»ç»Ÿæ”¯æŒ
- ğŸ§© è‡ªå®šä¹‰ç»„ä»¶
- ğŸ”— API æ¥å£æ‰©å±•

## ğŸ¯ é€‚ç”¨äººç¾¤

- ğŸ‘¨â€ğŸ’» **å‰ç«¯å¼€å‘è€…**: ç†Ÿæ‚‰ React/TypeScript çš„å¼€å‘è€…
- âœï¸ **åšå®¢ä½œè€…**: éœ€è¦é«˜æ€§èƒ½åšå®¢ç³»ç»Ÿçš„å†…å®¹åˆ›ä½œè€…
- ğŸ‘¥ **æŠ€æœ¯å›¢é˜Ÿ**: éœ€è¦æŠ€æœ¯æ–‡æ¡£å’Œåšå®¢çš„ä¼ä¸šå›¢é˜Ÿ
- ğŸŒŸ **å¼€æºé¡¹ç›®**: éœ€è¦é¡¹ç›®æ–‡æ¡£å’Œå±•ç¤ºçš„å¼€æºé¡¹ç›®

## ğŸ”® æœªæ¥è§„åˆ’

- [x] ğŸ¨ å¤šä¸»é¢˜ç³»ç»Ÿæ”¯æŒ
- [ ] ğŸ–¼ï¸ å›¾ç‰‡ä¼˜åŒ–å’Œæ‡’åŠ è½½
- [x] ğŸ” å…¨æ–‡æœç´¢åŠŸèƒ½
- [ ] ğŸ“± PWA æ”¯æŒ
- [ ] ğŸŒ å¤šè¯­è¨€å›½é™…åŒ–
- [ ] ğŸ’¬ è¯„è®ºç³»ç»Ÿé›†æˆ
- [ ] ğŸ“Š æ€§èƒ½ç›‘æ§å’Œåˆ†æ
- [ ] ğŸ³ Docker å®¹å™¨åŒ–æ”¯æŒ

Lumos è‡´åŠ›äºä¸ºå¼€å‘è€…æä¾›æœ€ç°ä»£åŒ–çš„é™æ€åšå®¢è§£å†³æ–¹æ¡ˆï¼Œé€šè¿‡ Bun è¿è¡Œæ—¶å’Œ React æŠ€æœ¯æ ˆï¼Œå®ç°æè‡´çš„æ€§èƒ½å’Œå¼€å‘ä½“éªŒã€‚
